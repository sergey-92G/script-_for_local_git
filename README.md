### Часть 1: Введение и общая информация


# Git Management Tool

**Git Management Tool** — это Python-программа, которая предоставляет удобный 
интерфейс командной строки для работы с Git. Основное предназначение — упростить 
работу с репозиторием, индексом, ветками, удалёнными репозиториями и файлами 
`.gitignore`. Программа поддерживает навигацию по меню с использованием стрелок 
и позволяет выполнять команды через интуитивно понятные подменю.

## Функциональные возможности

1. **Основные команды**:
   - Просмотр статуса репозитория.
   - Добавление файлов в индекс.
   - Коммит изменений с указанием сообщения.
   - Просмотр истории коммитов.
   - Удаление файлов из репозитория.
   - Просмотр изменений и сравнение коммитов.
   - Откат изменений к указанному коммиту.

2. **Управление ветками**:
   - Просмотр, создание, переключение, удаление и переименование веток.
   - Слияние веток и отмена слияний.
   - Создание ветки от определённого коммита.

3. **Работа с удалёнными репозиториями**:
   - Просмотр удалённых репозиториев.
   - Добавление, удаление и синхронизация изменений (`pull` и `push`).

4. **Управление .gitignore**:
   - Просмотр содержимого файла `.gitignore`.
   - Добавление и удаление записей в/из файла.

5. **Управление индексом**:
   - Просмотр текущего индекса.
   - Добавление файлов в индекс.
   - Удаление файлов из индекса.
   - Очистка индекса.

6. **Автоматический коммит**:
   - Автоматическая постановка всех файлов в индекс и их коммит с временной 
     меткой.

## Требования

- **Python 3.6 или выше**
- Модули:
  - `subprocess`
  - `datetime`
  - `colorama`
  - `logging`
  - `msvcrt` (только для Windows)

## Установка

1. Убедитесь, что Python установлен:
   ```bash
   python --version
   ```
2. Установите зависимости:
   ```bash
   pip install colorama
   ```
3. Скачайте и поместите файл программы `git_management.py` в удобную директорию.

## Запуск

Запустите программу через терминал:
```bash
python git_management.py
```


### Часть 2: Подробное описание функционала

## Подробное описание функционала

### 1. Основные команды
Меню для выполнения стандартных операций с репозиторием Git.

- **Статус репозитория**: Отображает текущее состояние репозитория, включая 
  отслеживаемые и неотслеживаемые файлы, изменения и готовность к коммиту.

- **Добавить файлы**: Позволяет добавить файлы в индекс. Введите `.` для 
  добавления всех файлов, либо перечислите их через запятую.

- **Коммит изменений**: Выполняет коммит всех файлов в индексе с добавлением 
  сообщения. Автоматически добавляется временная метка.

- **История коммитов**: Выводит упрощённый граф с коммитами, включая их хэши и 
  сообщения.

- **Удалить файлы из репозитория**: Удаляет файлы из репозитория без удаления их 
  с файловой системы.

- **Откат к коммиту**: Позволяет откатить состояние репозитория к выбранному 
  коммиту с подтверждением.

- **Просмотр изменений**: Показывает текущие изменения, не добавленные в коммит.

- **Сравнение изменений между коммитами**: Запрашивает хэши двух коммитов и 
  выводит разницу между ними.

- **Удалить файл из последнего коммита**: Удаляет указанный файл из последнего 
  коммита и обновляет коммит без изменения его сообщения.

---

### Управление ветками
Подменю для работы с ветками репозитория.

- **Просмотр веток**: Отображает список всех локальных веток. Активная ветка 
  выделена звездочкой.

- **Создать ветку**: Создаёт новую ветку с указанным именем.

- **Переключиться на ветку**: Переключает текущую ветку на указанную.

- **Удалить ветку**: Удаляет ветку. Ветка должна быть слита, чтобы её можно было 
  удалить.

- **Переименовать ветку**: Позволяет изменить имя существующей ветки.

- **Принудительное удаление ветки**: Удаляет ветку без предварительной проверки 
  на слияние.

- **Слить ветку**: Выполняет слияние указанной ветки с текущей.

- **Отменить слияние**: Отменяет последнее незавершённое слияние.

- **Удалить отслеживание удаленной ветки**: Удаляет связь между локальной веткой 
  и её удалённой копией.

- **Создать ветку от коммита**: Создаёт новую ветку, начиная с указанного коммита.

- **Очистить неактуальные удалённые ветки**: Удаляет локальные ссылки на 
  удалённые ветки, которые больше не существуют на сервере.

---

### 3. Работа с удалёнными репозиториями
Меню для управления удалёнными репозиториями и синхронизации изменений.

- **Просмотр удалённых репозиториев**: Показывает список удалённых репозиториев 
  и их URL-адреса.

- **Добавить удалённый репозиторий**: Добавляет новый удалённый репозиторий с 
  указанным именем и URL.

- **Удалить удалённый репозиторий**: Удаляет связь с указанным удалённым 
  репозиторием.

- **Получить изменения (pull)**: Загружает изменения из удалённого репозитория в 
  указанную ветку.

- **Отправить изменения (push)**: Отправляет локальные изменения в удалённый 
  репозиторий для указанной ветки.

### Управление .gitignore и индексом

### 4. Управление .gitignore
Меню для работы с файлом `.gitignore`, который определяет файлы и папки, 
игнорируемые Git.

- **Просмотр .gitignore**: Отображает содержимое файла `.gitignore`. Если файл 
  отсутствует, выводится сообщение об ошибке.

- **Добавить запись в .gitignore**: Позволяет добавить новые записи в файл. 
  Вводите файлы или шаблоны через запятую.

- **Удалить запись из .gitignore**: Удаляет указанную запись из файла. Если запись 
  отсутствует, она игнорируется.

---

### Управление индексом
Подменю для выполнения операций с индексом Git.

- **Просмотр индекса**: Отображает текущий индекс, включая хэши, режимы доступа 
  и имена файлов.

- **Добавить в индекс**: Позволяет добавить указанные файлы или папки в индекс. 
  Введите пути через запятую.

- **Удалить из индекса**: Удаляет указанные файлы из индекса, не удаляя их с 
  файловой системы.

- **Очистить весь индекс**: Сбрасывает весь индекс и отменяет все добавленные, 
  но не закоммиченные изменения. Требует подтверждения.

---

### Автоматический коммит
Меню для автоматизации добавления и фиксации всех изменений в репозитории.

- **Описание**: Эта функция добавляет все изменения в индекс и выполняет коммит с 
  автоматическим сообщением, включающим временную метку. Полезно для быстрого 
  сохранения текущего состояния.


### Логирование и улучшения

## Логирование
Программа ведёт журнал всех выполненных команд и их результатов. Логи 
сохраняются в файл `git_manager.log`, а также отображаются в консоли.

### Примеры записей в логе:
- Успешное выполнение команды:
  ```
  2025-01-19 15:00:00 - INFO - Команда 'git add .' выполнена. Добавленные файлы:
  file1.txt
  file2.txt
  ```
- Ошибка выполнения команды:
  ```
  2025-01-19 15:05:00 - ERROR - Ошибка декодирования: 'utf-8' codec can't decode byte 0x91 in position 12.
  ```

---

## Улучшения в программе
1. **Добавлено подменю "Очистить весь индекс"** в меню управления индексом.
2. **Исправлено удаление из индекса** — теперь команда корректно удаляет файлы из 
   индекса.
3. **Подключено логирование** — каждая команда записывается в лог-файл.
4. **Понятные комментарии** — добавлены комментарии на русском языке, чтобы 
   облегчить разбор кода.


### Пример использования программы


## Пример использования программы

### Пример 1: Работа с основными командами
1. Запустите программу:
   ```bash
   python git_management.py
   ```
2. Выберите пункт меню "Основные команды".
3. Добавьте файлы в индекс:
   - Введите `1` для выбора "Добавить файлы".
   - Введите `.` для добавления всех файлов.
4. Закоммитьте изменения:
   - Выберите "Коммит изменений".
   - Введите сообщение, например: `Initial commit`.

### Пример 2: Работа с ветками
1. Переключитесь в меню управления ветками.
2. Создайте новую ветку:
   - Выберите "Создать ветку".
   - Введите имя ветки, например: `feature-branch`.
3. Переключитесь на новую ветку:
   - Выберите "Переключиться на ветку".
   - Введите `feature-branch`.

### Пример 3: Работа с .gitignore
1. Перейдите в меню "Управление .gitignore".
2. Добавьте файлы в игнорируемые:
   - Выберите "Добавить запись в .gitignore".
   - Введите, например: `*.log, /temp/`.

3. Удалите запись:
   - Выберите "Удалить запись из .gitignore".
   - Введите запись, которую хотите удалить.


### Часть 6: Заключение


## Заключение

Git Management Tool упрощает взаимодействие с Git, делая работу с репозиторием 
быстрее и удобнее. Все команды структурированы по категориям, логирование 
помогает отслеживать действия, а удобный интерфейс позволяет сосредоточиться на 
работе, а не на ручном вводе команд.

Если у вас есть предложения по улучшению программы, пожалуйста, создайте 
Issue на GitHub или свяжитесь с разработчиком.
```markdown

## Лицензия
Этот проект распространяется под лицензией MIT. Подробнее см. [LICENSE](LICENSE).
```

